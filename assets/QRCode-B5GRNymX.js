import{d as Pt,c as Dt,r as lt,o as Et,a as st,b as ft}from"./index-Du_vSQN0.js";var $,ct;function kt(){return ct||(ct=1,$=function(j){var x={};function m(s){if(x[s])return x[s].exports;var v=x[s]={i:s,l:!1,exports:{}};return j[s].call(v.exports,v,v.exports,m),v.l=!0,v.exports}return m.m=j,m.c=x,m.d=function(s,v,O){m.o(s,v)||Object.defineProperty(s,v,{enumerable:!0,get:O})},m.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},m.t=function(s,v){if(1&v&&(s=m(s)),8&v||4&v&&typeof s=="object"&&s&&s.__esModule)return s;var O=Object.create(null);if(m.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:s}),2&v&&typeof s!="string")for(var S in s)m.d(O,S,(function(T){return s[T]}).bind(null,S));return O},m.n=function(s){var v=s&&s.__esModule?function(){return s.default}:function(){return s};return m.d(v,"a",v),v},m.o=function(s,v){return Object.prototype.hasOwnProperty.call(s,v)},m.p="",m(m.s=9)}([function(j,x){j.exports={L:1,M:0,Q:3,H:2}},function(j,x){j.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},function(j,x,m){var s=m(3);function v(O,S){if(O.length==null)throw new Error(O.length+"/"+S);for(var T=0;T<O.length&&O[T]==0;)T++;this.num=new Array(O.length-T+S);for(var k=0;k<O.length-T;k++)this.num[k]=O[k+T]}v.prototype={get:function(O){return this.num[O]},getLength:function(){return this.num.length},multiply:function(O){for(var S=new Array(this.getLength()+O.getLength()-1),T=0;T<this.getLength();T++)for(var k=0;k<O.getLength();k++)S[T+k]^=s.gexp(s.glog(this.get(T))+s.glog(O.get(k)));return new v(S,0)},mod:function(O){if(this.getLength()-O.getLength()<0)return this;for(var S=s.glog(this.get(0))-s.glog(O.get(0)),T=new Array(this.getLength()),k=0;k<this.getLength();k++)T[k]=this.get(k);for(k=0;k<O.getLength();k++)T[k]^=s.gexp(s.glog(O.get(k))+S);return new v(T,0).mod(O)}},j.exports=v},function(j,x){for(var m={glog:function(v){if(v<1)throw new Error("glog("+v+")");return m.LOG_TABLE[v]},gexp:function(v){for(;v<0;)v+=255;for(;v>=256;)v-=255;return m.EXP_TABLE[v]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},s=0;s<8;s++)m.EXP_TABLE[s]=1<<s;for(s=8;s<256;s++)m.EXP_TABLE[s]=m.EXP_TABLE[s-4]^m.EXP_TABLE[s-5]^m.EXP_TABLE[s-6]^m.EXP_TABLE[s-8];for(s=0;s<255;s++)m.LOG_TABLE[m.EXP_TABLE[s]]=s;j.exports=m},function(j,x,m){var s=m(5),v=m(6),O=m(7),S=m(8),T=m(2);function k(d,C){this.typeNumber=d,this.errorCorrectLevel=C,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var M=k.prototype;M.addData=function(d){var C=new s(d);this.dataList.push(C),this.dataCache=null},M.isDark=function(d,C){if(d<0||this.moduleCount<=d||C<0||this.moduleCount<=C)throw new Error(d+","+C);return this.modules[d][C]},M.getModuleCount=function(){return this.moduleCount},M.make=function(){if(this.typeNumber<1){var d=1;for(d=1;d<40;d++){for(var C=v.getRSBlocks(d,this.errorCorrectLevel),g=new O,b=0,c=0;c<C.length;c++)b+=C[c].dataCount;for(c=0;c<this.dataList.length;c++){var l=this.dataList[c];g.put(l.mode,4),g.put(l.getLength(),S.getLengthInBits(l.mode,d)),l.write(g)}if(g.getLengthInBits()<=8*b)break}this.typeNumber=d}this.makeImpl(!1,this.getBestMaskPattern())},M.makeImpl=function(d,C){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++){this.modules[g]=new Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++)this.modules[g][b]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(d,C),this.typeNumber>=7&&this.setupTypeNumber(d),this.dataCache==null&&(this.dataCache=k.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,C)},M.setupPositionProbePattern=function(d,C){for(var g=-1;g<=7;g++)if(!(d+g<=-1||this.moduleCount<=d+g))for(var b=-1;b<=7;b++)C+b<=-1||this.moduleCount<=C+b||(this.modules[d+g][C+b]=0<=g&&g<=6&&(b==0||b==6)||0<=b&&b<=6&&(g==0||g==6)||2<=g&&g<=4&&2<=b&&b<=4)},M.getBestMaskPattern=function(){for(var d=0,C=0,g=0;g<8;g++){this.makeImpl(!0,g);var b=S.getLostPoint(this);(g==0||d>b)&&(d=b,C=g)}return C},M.createMovieClip=function(d,C,g){var b=d.createEmptyMovieClip(C,g);this.make();for(var c=0;c<this.modules.length;c++)for(var l=1*c,f=0;f<this.modules[c].length;f++){var y=1*f;this.modules[c][f]&&(b.beginFill(0,100),b.moveTo(y,l),b.lineTo(y+1,l),b.lineTo(y+1,l+1),b.lineTo(y,l+1),b.endFill())}return b},M.setupTimingPattern=function(){for(var d=8;d<this.moduleCount-8;d++)this.modules[d][6]==null&&(this.modules[d][6]=d%2==0);for(var C=8;C<this.moduleCount-8;C++)this.modules[6][C]==null&&(this.modules[6][C]=C%2==0)},M.setupPositionAdjustPattern=function(){for(var d=S.getPatternPosition(this.typeNumber),C=0;C<d.length;C++)for(var g=0;g<d.length;g++){var b=d[C],c=d[g];if(this.modules[b][c]==null)for(var l=-2;l<=2;l++)for(var f=-2;f<=2;f++)this.modules[b+l][c+f]=l==-2||l==2||f==-2||f==2||l==0&&f==0}},M.setupTypeNumber=function(d){for(var C=S.getBCHTypeNumber(this.typeNumber),g=0;g<18;g++){var b=!d&&(C>>g&1)==1;this.modules[Math.floor(g/3)][g%3+this.moduleCount-8-3]=b}for(g=0;g<18;g++)b=!d&&(C>>g&1)==1,this.modules[g%3+this.moduleCount-8-3][Math.floor(g/3)]=b},M.setupTypeInfo=function(d,C){for(var g=this.errorCorrectLevel<<3|C,b=S.getBCHTypeInfo(g),c=0;c<15;c++){var l=!d&&(b>>c&1)==1;c<6?this.modules[c][8]=l:c<8?this.modules[c+1][8]=l:this.modules[this.moduleCount-15+c][8]=l}for(c=0;c<15;c++)l=!d&&(b>>c&1)==1,c<8?this.modules[8][this.moduleCount-c-1]=l:c<9?this.modules[8][15-c-1+1]=l:this.modules[8][15-c-1]=l;this.modules[this.moduleCount-8][8]=!d},M.mapData=function(d,C){for(var g=-1,b=this.moduleCount-1,c=7,l=0,f=this.moduleCount-1;f>0;f-=2)for(f==6&&f--;;){for(var y=0;y<2;y++)if(this.modules[b][f-y]==null){var _=!1;l<d.length&&(_=(d[l]>>>c&1)==1),S.getMask(C,b,f-y)&&(_=!_),this.modules[b][f-y]=_,--c==-1&&(l++,c=7)}if((b+=g)<0||this.moduleCount<=b){b-=g,g=-g;break}}},k.PAD0=236,k.PAD1=17,k.createData=function(d,C,g){for(var b=v.getRSBlocks(d,C),c=new O,l=0;l<g.length;l++){var f=g[l];c.put(f.mode,4),c.put(f.getLength(),S.getLengthInBits(f.mode,d)),f.write(c)}var y=0;for(l=0;l<b.length;l++)y+=b[l].dataCount;if(c.getLengthInBits()>8*y)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+8*y+")");for(c.getLengthInBits()+4<=8*y&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*y||(c.put(k.PAD0,8),c.getLengthInBits()>=8*y));)c.put(k.PAD1,8);return k.createBytes(c,b)},k.createBytes=function(d,C){for(var g=0,b=0,c=0,l=new Array(C.length),f=new Array(C.length),y=0;y<C.length;y++){var _=C[y].dataCount,D=C[y].totalCount-_;b=Math.max(b,_),c=Math.max(c,D),l[y]=new Array(_);for(var L=0;L<l[y].length;L++)l[y][L]=255&d.buffer[L+g];g+=_;var G=S.getErrorCorrectPolynomial(D),I=new T(l[y],G.getLength()-1).mod(G);for(f[y]=new Array(G.getLength()-1),L=0;L<f[y].length;L++){var R=L+I.getLength()-f[y].length;f[y][L]=R>=0?I.get(R):0}}var q=0;for(L=0;L<C.length;L++)q+=C[L].totalCount;var H=new Array(q),Q=0;for(L=0;L<b;L++)for(y=0;y<C.length;y++)L<l[y].length&&(H[Q++]=l[y][L]);for(L=0;L<c;L++)for(y=0;y<C.length;y++)L<f[y].length&&(H[Q++]=f[y][L]);return H},j.exports=k},function(j,x,m){var s=m(1);function v(O){this.mode=s.MODE_8BIT_BYTE,this.data=O}v.prototype={getLength:function(O){return this.data.length},write:function(O){for(var S=0;S<this.data.length;S++)O.put(this.data.charCodeAt(S),8)}},j.exports=v},function(j,x,m){var s=m(0);function v(O,S){this.totalCount=O,this.dataCount=S}v.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],v.getRSBlocks=function(O,S){var T=v.getRsBlockTable(O,S);if(T==null)throw new Error("bad rs block @ typeNumber:"+O+"/errorCorrectLevel:"+S);for(var k=T.length/3,M=new Array,d=0;d<k;d++)for(var C=T[3*d+0],g=T[3*d+1],b=T[3*d+2],c=0;c<C;c++)M.push(new v(g,b));return M},v.getRsBlockTable=function(O,S){switch(S){case s.L:return v.RS_BLOCK_TABLE[4*(O-1)+0];case s.M:return v.RS_BLOCK_TABLE[4*(O-1)+1];case s.Q:return v.RS_BLOCK_TABLE[4*(O-1)+2];case s.H:return v.RS_BLOCK_TABLE[4*(O-1)+3];default:return}},j.exports=v},function(j,x){function m(){this.buffer=new Array,this.length=0}m.prototype={get:function(s){var v=Math.floor(s/8);return(this.buffer[v]>>>7-s%8&1)==1},put:function(s,v){for(var O=0;O<v;O++)this.putBit((s>>>v-O-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(s){var v=Math.floor(this.length/8);this.buffer.length<=v&&this.buffer.push(0),s&&(this.buffer[v]|=128>>>this.length%8),this.length++}},j.exports=m},function(j,x,m){var s=m(1),v=m(2),O=m(3),S=0,T=1,k=2,M=3,d=4,C=5,g=6,b=7,c={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(l){for(var f=l<<10;c.getBCHDigit(f)-c.getBCHDigit(c.G15)>=0;)f^=c.G15<<c.getBCHDigit(f)-c.getBCHDigit(c.G15);return(l<<10|f)^c.G15_MASK},getBCHTypeNumber:function(l){for(var f=l<<12;c.getBCHDigit(f)-c.getBCHDigit(c.G18)>=0;)f^=c.G18<<c.getBCHDigit(f)-c.getBCHDigit(c.G18);return l<<12|f},getBCHDigit:function(l){for(var f=0;l!=0;)f++,l>>>=1;return f},getPatternPosition:function(l){return c.PATTERN_POSITION_TABLE[l-1]},getMask:function(l,f,y){switch(l){case S:return(f+y)%2==0;case T:return f%2==0;case k:return y%3==0;case M:return(f+y)%3==0;case d:return(Math.floor(f/2)+Math.floor(y/3))%2==0;case C:return f*y%2+f*y%3==0;case g:return(f*y%2+f*y%3)%2==0;case b:return(f*y%3+(f+y)%2)%2==0;default:throw new Error("bad maskPattern:"+l)}},getErrorCorrectPolynomial:function(l){for(var f=new v([1],0),y=0;y<l;y++)f=f.multiply(new v([1,O.gexp(y)],0));return f},getLengthInBits:function(l,f){if(1<=f&&f<10)switch(l){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw new Error("mode:"+l)}else if(f<27)switch(l){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+l)}else{if(!(f<41))throw new Error("type:"+f);switch(l){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+l)}}},getLostPoint:function(l){for(var f=l.getModuleCount(),y=0,_=0;_<f;_++)for(var D=0;D<f;D++){for(var L=0,G=l.isDark(_,D),I=-1;I<=1;I++)if(!(_+I<0||f<=_+I))for(var R=-1;R<=1;R++)D+R<0||f<=D+R||I==0&&R==0||G==l.isDark(_+I,D+R)&&L++;L>5&&(y+=3+L-5)}for(_=0;_<f-1;_++)for(D=0;D<f-1;D++){var q=0;l.isDark(_,D)&&q++,l.isDark(_+1,D)&&q++,l.isDark(_,D+1)&&q++,l.isDark(_+1,D+1)&&q++,q!=0&&q!=4||(y+=3)}for(_=0;_<f;_++)for(D=0;D<f-6;D++)l.isDark(_,D)&&!l.isDark(_,D+1)&&l.isDark(_,D+2)&&l.isDark(_,D+3)&&l.isDark(_,D+4)&&!l.isDark(_,D+5)&&l.isDark(_,D+6)&&(y+=40);for(D=0;D<f;D++)for(_=0;_<f-6;_++)l.isDark(_,D)&&!l.isDark(_+1,D)&&l.isDark(_+2,D)&&l.isDark(_+3,D)&&l.isDark(_+4,D)&&!l.isDark(_+5,D)&&l.isDark(_+6,D)&&(y+=40);var H=0;for(D=0;D<f;D++)for(_=0;_<f;_++)l.isDark(_,D)&&H++;return y+=10*(Math.abs(100*H/f/f-50)/5)}};j.exports=c},function(j,x,m){function s(o){return function(e){if(Array.isArray(e)){for(var i=0,n=new Array(e.length);i<e.length;i++)n[i]=e[i];return n}}(o)||function(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(o,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}m.r(x);var O=function(){function o(){(function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o)}var e,i,n;return e=o,n=[{key:"convertHexColorToBytes",value:function(r){var t=[],a=r.replace("#","");if(!/^[0-9A-F]{3,8}$/i.test(a))return[0,0,0,0];switch(a.length){case 3:a+="F";case 4:t.push.apply(t,s(a.split("").map(function(u){return parseInt(u.repeat(2),16)})));break;case 6:a+="FF";case 8:t.push(parseInt(a.substr(0,2),16)),t.push(parseInt(a.substr(2,2),16)),t.push(parseInt(a.substr(4,2),16)),t.push(parseInt(a.substr(6,2),16));break;default:t.push(0,0,0,0)}return t}}],(i=null)&&v(e.prototype,i),n&&v(e,n),o}(),S=m(4),T=m.n(S),k=m(0),M=m.n(k);function d(o){return function(e){if(Array.isArray(e)){for(var i=0,n=new Array(e.length);i<e.length;i++)n[i]=e[i];return n}}(o)||function(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(o,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function g(o,e,i){return e in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}var b={level:"L",padding:1,invert:!1,typeNumber:0,errorsEnabled:!1},c=function(){function o(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")})(this,o),g(this,"value",void 0),g(this,"level",void 0),g(this,"typeNumber",void 0),g(this,"padding",void 0),g(this,"errorsEnabled",void 0),g(this,"qrCodeData",void 0);var t=function(a){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?arguments[u]:{},p=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(h).filter(function(w){return Object.getOwnPropertyDescriptor(h,w).enumerable}))),p.forEach(function(w){g(a,w,h[w])})}return a}({},b,r);this.value=n,this.level=t.level,this.typeNumber=t.typeNumber,this.padding=t.padding,this.invert=t.invert,this.errorsEnabled=t.errorsEnabled}var e,i;return e=o,(i=[{key:"setValue",value:function(n){this.value=n,this._clearCache()}},{key:"getDataSize",value:function(){var n=this.getData();return n?n.length:0}},{key:"_clearCache",value:function(){this.qrCodeData=null}},{key:"_getQrCodeData",value:function(n){var r=[],t=this.padding,a=this.invert,u=Array(2*t+n.length).fill(a),h=Array(t).fill(u),p=Array(t).fill(a);return t&&r.push.apply(r,d(h)),n.forEach(function(w){var P=[];P.push.apply(P,d(p).concat(d(w.map(function(E){return a?!E:E})),d(p))),r.push(P)}),t&&r.push.apply(r,d(h)),r}},{key:"getData",value:function(){if(!this.qrCodeData)try{var n=new T.a(this.typeNumber,M.a[this.level]);if(n.addData(this.value),n.make(),!n.modules)return null;this.qrCodeData=this._getQrCodeData(n.modules),Object.freeze(this.qrCodeData)}catch(r){if(this.errorsEnabled)throw r;return null}return this.qrCodeData}}])&&C(e.prototype,i),o}();function l(o,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}var f=function(){function o(){(function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o)}var e,i,n;return e=o,n=[{key:"calculateDimension",value:function(r,t){return typeof r=="number"?r:typeof r=="string"&&r.indexOf("%")>0?Math.round(parseFloat(r)/100*t)||0:parseFloat(r)||0}},{key:"calculatePosition",value:function(r,t,a){if(typeof r=="number")return r;if(typeof r!="string"||r==="left"||r==="top")return 0;if(r==="right"||r==="bottom")return a-t;if(r==="center")return Math.round((a-t)/2);var u=r.match(/^(?:(right|bottom|left|top)\s+)?(-?[0-9.]+)(%)?$/);if(!u)return 0;var h=u[1]==="right"||u[1]==="bottom",p=!!u[3],w=parseFloat(u[2])||0;return p&&(w=Math.round(w/100*a)),h&&(w=a-w-t),Math.round(w)}}],(i=null)&&l(e.prototype,i),n&&l(e,n),o}();function y(o){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}function _(o,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function D(o,e,i){return(D=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,r,t){var a=function(h,p){for(;!Object.prototype.hasOwnProperty.call(h,p)&&(h=L(h))!==null;);return h}(n,r);if(a){var u=Object.getOwnPropertyDescriptor(a,r);return u.get?u.get.call(t):u.value}})(o,e,i||o)}function L(o){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(o)}function G(o,e){return(G=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i})(o,e)}function I(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function R(o,e,i){return e in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}var q={image:null},H=function(o){function e(r){var t,a,u,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")})(this,e),a=this,t=!(u=L(e).call(this,r,h))||y(u)!=="object"&&typeof u!="function"?I(a):u,R(I(I(t)),"image",null),R(I(I(t)),"imageConfig",null);var p=function(w){for(var P=1;P<arguments.length;P++){var E=arguments[P]!=null?arguments[P]:{},A=Object.keys(E);typeof Object.getOwnPropertySymbols=="function"&&(A=A.concat(Object.getOwnPropertySymbols(E).filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable}))),A.forEach(function(B){R(w,B,E[B])})}return w}({},q,h);return t.image=p.image,t}var i,n;return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&G(r,t)}(e,c),i=e,(n=[{key:"_clearCache",value:function(){D(L(e.prototype),"_clearCache",this).call(this),this.imageConfig=null}},{key:"_getImageSource",value:function(r){var t=r.source;return typeof t=="string"?t:t instanceof Image?t.src:t instanceof HTMLCanvasElement?t.toDataURL():null}},{key:"_getImageConfig",value:function(){if(this.imageConfig)return this.imageConfig;if(!(this.image&&this.image.source&&this.image.width&&this.image.height))return null;var r=this.getDataSize();if(!r)return null;var t=this._getImageSource(this.image);if(!t)return null;var a=r-2*this.padding,u=f.calculateDimension(this.image.width,a),h=f.calculateDimension(this.image.height,a),p=f.calculatePosition(this.image.x,u,a)+this.padding,w=f.calculatePosition(this.image.y,h,a)+this.padding,P=1;return typeof this.image.border!="number"&&this.image.border!==null||(P=this.image.border),this.imageConfig={source:t,border:P,x:p,y:w,width:u,height:h},this.imageConfig}},{key:"getData",value:function(){if(this.qrCodeData)return this.qrCodeData;var r=D(L(e.prototype),"getData",this).call(this);if(!r)return r;var t=this._getImageConfig();if(t&&t.width&&t.height&&typeof t.border=="number")for(var a=Math.max(t.x-t.border,0),u=Math.max(t.y-t.border,0),h=Math.min(a+t.width+2*t.border,r.length),p=Math.min(u+t.height+2*t.border,r.length),w=u;w<p;w+=1)for(var P=a;P<h;P+=1)r[w][P]=!!this.invert;return r}}])&&_(i.prototype,n),e}();function Q(o,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}var ht=function(){function o(){(function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o)}var e,i,n;return e=o,n=[{key:"load",value:function(r){return new Promise(function(t,a){var u=new Image;u.onload=function(){return t(u)},u.onerror=function(){return a(u)},u.src=r})}}],(i=null)&&Q(e.prototype,i),n&&Q(e,n),o}();function W(o){return(W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}function gt(o,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function Z(o,e,i){return(Z=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,r,t){var a=function(h,p){for(;!Object.prototype.hasOwnProperty.call(h,p)&&(h=V(h))!==null;);return h}(n,r);if(a){var u=Object.getOwnPropertyDescriptor(a,r);return u.get?u.get.call(t):u.value}})(o,e,i||o)}function V(o){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(o)}function tt(o,e){return(tt=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i})(o,e)}function N(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function z(o,e,i){return e in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}var pt={fgColor:"#000",bgColor:"#FFF",scale:10,size:null},vt=function(o){function e(r){var t,a,u,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")})(this,e),a=this,t=!(u=V(e).call(this,r,h))||W(u)!=="object"&&typeof u!="function"?N(a):u,z(N(N(t)),"fgColor",void 0),z(N(N(t)),"bgColor",void 0),z(N(N(t)),"scale",void 0),z(N(N(t)),"size",void 0),z(N(N(t)),"canvas",void 0),z(N(N(t)),"canvasContext",void 0);var p=function(w){for(var P=1;P<arguments.length;P++){var E=arguments[P]!=null?arguments[P]:{},A=Object.keys(E);typeof Object.getOwnPropertySymbols=="function"&&(A=A.concat(Object.getOwnPropertySymbols(E).filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable}))),A.forEach(function(B){z(w,B,E[B])})}return w}({},pt,h);return t.fgColor=p.fgColor,t.bgColor=p.bgColor,t.scale=p.scale,t.size=p.size,t.canvas=document.createElement("canvas"),t.canvasContext=t.canvas.getContext("2d"),t.toDataURL=t.toDataUrl,t}var i,n;return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&tt(r,t)}(e,H),i=e,(n=[{key:"_clearCache",value:function(){Z(V(e.prototype),"_clearCache",this).call(this),this.canvas.width=0}},{key:"_getCanvasSize",value:function(){var r=this.getDataSize();return r?this.size?this.size:this.scale?this.scale*r:r:null}},{key:"draw",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.getDataSize();if(!t)return null;var a=this.getData();if(!a)return null;var u=O.convertHexColorToBytes(this.fgColor),h=O.convertHexColorToBytes(this.bgColor),p=0,w=new Uint8ClampedArray(4*Math.pow(t,2));a.forEach(function(Ot){Ot.forEach(function(_t){_t?w.set(u,p):w.set(h,p),p+=4})});var P=new ImageData(w,t,t);this.canvas.width=t,this.canvas.height=t,this.canvasContext.putImageData(P,0,0);var E=this._getCanvasSize(),A=r||document.createElement("canvas");A.width=E,A.height=E;var B=A.getContext("2d");B.imageSmoothingEnabled=!1,B.drawImage(this.canvas,0,0,E,E);var ut=this._drawImage(B,E/t);return ut instanceof Promise?ut.then(function(){return A}):A}},{key:"_getImageSource",value:function(r){var t=this,a=r.source;return typeof a=="string"?ht.load(a).then(function(u){return t.image.source=u,r.source=u,u}):a instanceof Image||a instanceof HTMLCanvasElement?a:null}},{key:"_drawImage",value:function(r,t){var a=this._getImageConfig();return a?a.source instanceof Promise?a.source.then(function(u){r.drawImage(u,a.x*t,a.y*t,a.width*t,a.height*t)}):(r.drawImage(a.source,a.x*t,a.y*t,a.width*t,a.height*t),!0):null}},{key:"getCanvas",value:function(){return this.draw()}},{key:"toDataUrl",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.92,a=this.draw();return a?a instanceof Promise?a.then(function(u){return u.toDataURL(r,t)}):a.toDataURL(r,t):null}}])&&gt(i.prototype,n),e}();function et(o){return(et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}function dt(o,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function rt(o,e,i){return(rt=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,r,t){var a=function(h,p){for(;!Object.prototype.hasOwnProperty.call(h,p)&&(h=X(h))!==null;);return h}(n,r);if(a){var u=Object.getOwnPropertyDescriptor(a,r);return u.get?u.get.call(t):u.value}})(o,e,i||o)}function X(o){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(o)}function nt(o,e){return(nt=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i})(o,e)}function U(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function K(o,e,i){return e in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}var yt={fgColor:"#000",bgColor:"#FFF"},mt=function(o){function e(r){var t,a,u,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")})(this,e),a=this,t=!(u=X(e).call(this,r,h))||et(u)!=="object"&&typeof u!="function"?U(a):u,K(U(U(t)),"fgColor",void 0),K(U(U(t)),"bgColor",void 0),K(U(U(t)),"qrCodeSVG",null),K(U(U(t)),"qrCodeDataUrl",null);var p=function(w){for(var P=1;P<arguments.length;P++){var E=arguments[P]!=null?arguments[P]:{},A=Object.keys(E);typeof Object.getOwnPropertySymbols=="function"&&(A=A.concat(Object.getOwnPropertySymbols(E).filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable}))),A.forEach(function(B){K(w,B,E[B])})}return w}({},yt,h);return t.fgColor=p.fgColor,t.bgColor=p.bgColor,t.toDataURL=t.toDataUrl,t}var i,n;return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&nt(r,t)}(e,H),i=e,(n=[{key:"_clearCache",value:function(){rt(X(e.prototype),"_clearCache",this).call(this),this.qrCodeSVG=null,this.qrCodeDataUrl=null}},{key:"_getDataInt",value:function(){var r=this.getData();return r?r.map(function(t){return t.map(function(a){return a?1:0})}):null}},{key:"_getRects",value:function(){var r=this._getDataInt();if(!r)return null;for(var t=[],a=r.length-1,u=0;u<=a;u+=1)for(var h=-1,p=0;p<=a;p+=1){var w=r[u][p]===1;if(w&&h===-1&&(h=p),h!==-1&&(p===a||!w)){var P=p-(w?0:1),E=this._processRect(r,h,P,u);E&&t.push(E),h=-1}}return t}},{key:"_processRect",value:function(r,t,a,u){for(var h=r.length-1,p=!1,w=!1,P=0,E=u;E<=h;E+=1){for(var A=t;A<=a;A+=1)if(r[E][A]===0){w=!0;break}if(w)break;for(var B=t;B<=a;B+=1)r[E][B]===1&&(p=!0,r[E][B]=2);P+=1}return p?{x:t,y:u,width:a-t+1,height:P}:null}},{key:"_getRelativeRects",value:function(){var r=this._getRects();if(!r)return null;var t=[],a={},u=0;return r.forEach(function(h){var p="".concat(h.width,":").concat(h.height);a[p]?(a[p].count+=1,a[p].id||(a[p].id="i".concat(u.toString(32)),u+=1)):a[p]={count:1,rect:h,relative:!1,id:null}}),r.forEach(function(h){var p="".concat(h.width,":").concat(h.height),w=a[p];w.relative?t.push({id:w.id,x:h.x-w.rect.x,y:h.y-w.rect.y}):(w.id&&(h.id=w.id,w.relative=!0),t.push(h))}),t}},{key:"_buildSVG",value:function(r){var t=this,a=this.getDataSize(),u=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" '+'shape-rendering="crispEdges" viewBox="0 0 '.concat(a," ").concat(a,'">')];this.bgColor&&u.push('<rect x="0" y="0" height="'.concat(a,'" width="').concat(a,'" fill="').concat(this.bgColor,'"/>')),r.forEach(function(p){if(p.width&&p.height){var w=p.id?'id="'.concat(p.id,'" '):"";u.push("<rect ".concat(w,'x="').concat(p.x,'" y="').concat(p.y,'" height="').concat(p.height,'" width="').concat(p.width,'" fill="').concat(t.fgColor,'"/>'))}else u.push('<use xlink:href="#'.concat(p.id,'" x="').concat(p.x,'" y="').concat(p.y,'"/>'))});var h=this._getImageConfig();return h&&h.width&&h.height&&u.push('<image xlink:href="'.concat(h.source,'" x="').concat(h.x,'" y="').concat(h.y,'" width="').concat(h.width,'" height="').concat(h.height,'"/>')),u.push("</svg>"),u.join("")}},{key:"toString",value:function(){if(!this.qrCodeSVG){if(!this.getDataSize())return null;var r=this._getRects();if(!r)return null;this.qrCodeSVG=this._buildSVG(r)}return this.qrCodeSVG}},{key:"toDataUrl",value:function(){if(!this.qrCodeDataUrl){if(!this.getDataSize())return null;var r=this._getRelativeRects();if(!r)return null;var t=this._buildSVG(r);this.qrCodeDataUrl="data:image/svg+xml;base64,".concat(btoa(t))}return this.qrCodeDataUrl}}])&&dt(i.prototype,n),e}();function ot(o){return(ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}function bt(o,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function at(o,e,i){return(at=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,r,t){var a=function(h,p){for(;!Object.prototype.hasOwnProperty.call(h,p)&&(h=Y(h))!==null;);return h}(n,r);if(a){var u=Object.getOwnPropertyDescriptor(a,r);return u.get?u.get.call(t):u.value}})(o,e,i||o)}function Y(o){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(o)}function it(o,e){return(it=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i})(o,e)}function F(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function J(o,e,i){return e in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}var wt={blackSymbol:"▓▓",whiteSymbol:"  "},Ct=function(o){function e(r){var t,a,u,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")})(this,e),a=this,t=!(u=Y(e).call(this,r,h))||ot(u)!=="object"&&typeof u!="function"?F(a):u,J(F(F(t)),"blackSymbol",void 0),J(F(F(t)),"whiteSymbol",void 0),J(F(F(t)),"qrCodeText",null);var p=function(w){for(var P=1;P<arguments.length;P++){var E=arguments[P]!=null?arguments[P]:{},A=Object.keys(E);typeof Object.getOwnPropertySymbols=="function"&&(A=A.concat(Object.getOwnPropertySymbols(E).filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable}))),A.forEach(function(B){J(w,B,E[B])})}return w}({},wt,h);return t.blackSymbol=p.blackSymbol,t.whiteSymbol=p.whiteSymbol,t}var i,n;return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&it(r,t)}(e,c),i=e,(n=[{key:"_clearCache",value:function(){at(Y(e.prototype),"_clearCache",this).call(this),this.qrCodeText=null}},{key:"toString",value:function(){if(this.qrCodeText)return this.qrCodeText;var r=this.getDataSize();if(!r)return null;for(var t=this.getData(),a=[],u=0;u<r;u+=1){for(var h=0;h<r;h+=1){var p=t[u][h];a.push(p?this.blackSymbol:this.whiteSymbol)}a.push(`
`)}return this.qrCodeText=a.join(""),this.qrCodeText}}])&&bt(i.prototype,n),e}();m.d(x,"QRCodeCanvas",function(){return vt}),m.d(x,"QRCodeRaw",function(){return c}),m.d(x,"QRCodeSVG",function(){return mt}),m.d(x,"QRCodeText",function(){return Ct}),m.d(x,"AbstractQRCodeWithImage",function(){return H})}])),$}var St=kt();const jt=j=>new URL(j.startsWith("../")?j:`../assets/${j}`,import.meta.url).href,Lt=["path"],Bt=Pt({__name:"QRCode",props:{url:{},width:{default:"20%"},height:{default:"20%"},bgColor:{default:"#ffffff"},fgColor:{default:"#000000"},level:{default:"Q"},imageProperties:{}},setup(j){const x=`qrcode-${new Date().getTime()}`,m=jt("/circle-tripod-color.png");Dt(()=>({x:"center",y:"center",source:m,width:j.width,height:j.height,...j.imageProperties}));const s=lt(null),v=lt(new St.QRCodeSVG(j.url,{level:j.level,fgColor:j.fgColor,bgColor:j.bgColor}).toString());return Et(()=>{s.value&&(s.value.innerHTML=v.value)}),(O,S)=>(ft(),st("div",{id:x},[(ft(),st("svg",{path:v.value,alt:"",ref_key:"qrCodeElm",ref:s},null,8,Lt))]))}});export{Bt as default};
