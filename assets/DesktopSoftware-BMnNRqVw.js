import{_ as n,C as r}from"./CodeSlide-BogN88-u.js";import{d as i,a as l,b as p,e as o,f as s,g as t,h as a,w as c}from"./index-DZatwUrP.js";const d="/open-source-gis/assets/postgres_results-rHQ2xxrD.png",g="/open-source-gis/assets/postgis_geometry_viewer-BOlj-Gvk.png",m="/open-source-gis/assets/qgis-M-oXnbNK.png",u={class:"desktop-software"},f={class:"postgis-intersect"},S={class:"fragment fade-in-then-semi-out"},b={class:"fragment fade-up"},h=`
SELECT * FROM public.brewery
WHERE city in ('Minneapolis', 'St. Paul')
ORDER BY name;`,_=`
SELECT * FROM public.brewery
WHERE ST_Intersects(geom, 'SRID=4326;POLYGON((-93.52 45.2,-93.52 44.75,-92.89 44.75,-92.89 45.2,-93.52 45.2))')
ORDER BY name;`,y=`
WITH
bounds AS (
    SELECT {env} AS geom,
           {env}::box2d AS b2d
),
mvtgeom AS (
    SELECT ST_AsMVTGeom(ST_Transform(t.{geomColumn}, 3857), bounds.b2d) AS geom,
           {attrColumns}
    FROM {table} t, bounds
    WHERE ST_Intersects(t.{geomColumn}, ST_Transform(bounds.geom, {srid}))
)
SELECT ST_AsMVT(mvtgeom.*) FROM mvtgeom;`,E=i({__name:"DesktopSoftware",setup(w){return(v,e)=>(p(),l("section",u,[e[4]||(e[4]=o('<section class="postgres"><h3>Spatial Databases</h3><ul><li class="fragment"><a href="https://postgresql.org/" target="_blank" rel="noopener noreferrer">PostgreSQL</a> is a powerful, open source object-relational database system</li><li class="fragment">PostgreSQL has a spatial extension called <a href="https://postgis.net/" target="_blank" rel="noopener noreferrer">PostGIS</a> that adds support for geometry types and operations</li><ul><li class="fragment">geometry manipulation such as <span class="inline-code">buffer</span>, <span class="inline-code">clip</span>, and <span class="inline-code">generalize</span> and many more</li><li class="fragment">geometry conversions between binary, well-known text, geojson, and vector tiles (<a href="https://wiki.openstreetmap.org/wiki/PBF_Format" target="_blank" rel="noopener noreferrer">pbf</a>).</li><li class="fragment">other operations such as geocoding and reverse geocoding</li></ul></ul></section>',1)),s("section",f,[e[2]||(e[2]=s("h4",null,"PostgreSQL queries with PostGIS",-1)),s("div",S,[e[0]||(e[0]=s("div",{class:"text-sm text-left"},[a("to find breweries in the Twin Cities traditionally would involve a query by "),s("i",null,"city"),a(" name")],-1)),t(n,{code:h,lang:"sql"})]),s("div",b,[e[1]||(e[1]=s("div",{class:"text-sm text-left"},[a("with PostGIS we can search by an area because it supports spatial operations such as "),s("span",{class:"inline-code"},"ST_Intersects")],-1)),t(n,{code:_,lang:"sql","line-numbers":!0})])]),e[5]||(e[5]=s("section",{"data-transition":"slide-in fade-out"},[s("img",{src:d,alt:""})],-1)),e[6]||(e[6]=s("section",{"data-transition":"fade-in slide-out"},[s("img",{src:g,alt:""})],-1)),t(r,{dense:"","line-numbers":"1-5|6-11|12",title:"PostGIS ST_AsMVT Example",code:y,lang:"sql"},{default:c(()=>e[3]||(e[3]=[s("div",{class:"description text-md"},"an envelope can be passed in to find the intersecting features data and return as vector tiles",-1)])),_:1}),e[7]||(e[7]=o('<section><h2>Desktop Software</h2><ul><li class="fragment">the most common open source GIS mapping applications are <a href="https://qgis.org/" target="_blank" rel="noopener noreferrer">QGIS</a> and <a href="https://grass.osgeo.org/" target="_blank" rel="noopener noreferrer">GRASS</a></li><li class="fragment">QGIS and GRASS are both cross platform, meaning they can be installed on Windows, Mac, and Linux</li></ul></section><section class="qgis"><h3>QGIS</h3><ul><li class="fragment"><a href="https://qgis.org/" target="_blank" rel="noopener noreferrer">QGIS</a> is a robust GIS application that has capabilities that are on par with ArcGIS Pro</li><li class="fragment">QGIS supports many data formats including shapefile, GeoJSON, PostgreSQL databases, and Web Services</li><li class="fragment">QGIS has many plugins available for additional functionality</li><ul><li class="fragment">You can create your own Plugins using <span class="inline-code">Python</span> and/or <span class="inline-code">C++</span></li><li class="fragment">similar to ArcGIS, also has a model builder and supports Python for automation</li></ul></ul></section><section data-transition="slide-in"><h4>QGIS</h4><img src="'+m+'" alt=""></section>',3))]))}});export{E as default};
